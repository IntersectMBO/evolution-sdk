---
title: "Complex Nested Structures"
description: "Build sophisticated nested data structures with multiple levels and types."
---

```typescript
import assert from "node:assert/strict"
import { Data } from "@evolution-sdk/evolution"

// Create a complex user profile with nested data using only valid Data types
const userProfile = new Data.Constr({
  index: 0n, // User constructor
  fields: [
    "616c696365", // username 'alice' in hex
    new Data.Constr({
      index: 1n, // Profile constructor
      fields: [
        25n, // age
        "deadbeef", // some profile data as hex
        // Nested preferences constructor
        new Data.Constr({
          index: 2n, // Preferences constructor
          fields: [
            1n, // notification setting (1 = enabled)
            0n, // theme setting (0 = light, 1 = dark)
            8n // timezone offset
          ]
        })
      ]
    })
  ]
})

// Create a transaction record with complex metadata
const transaction = new Data.Constr({
  index: 10n, // Transaction constructor
  fields: [
    "deadbeef1234", // transaction hash
    1000000n, // amount in microADA
    new Data.Constr({
      index: 11n, // Address constructor
      fields: ["616464723174657374"] // address data in hex
    }),
    // Simple metadata as nested constructor
    new Data.Constr({
      index: 12n, // Metadata constructor
      fields: [
        1640995200n, // timestamp
        "7061796d656e74", // 'payment' as hex string
        1n // status code
      ]
    })
  ]
})

// Test deep structure access
assert.equal(userProfile.index, 0n)
assert.equal(userProfile.fields[0], "616c696365") // alice in hex

// Verify nested constructor
const profileData = userProfile.fields[1] as Data.Constr
assert.equal(profileData.index, 1n)
assert.equal(profileData.fields[0], 25n)

console.log("Complex structures created successfully")
console.log("User profile index:", userProfile.index)
console.log("Transaction amount:", transaction.fields[1])

```
